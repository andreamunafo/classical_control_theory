---

title: Part 1 Recap


keywords: fastai
sidebar: home_sidebar



nb_path: "10_Part_1_recap.ipynb"
---
<!--

#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: 10_Part_1_recap.ipynb
# command to build the docs after a change: nbdev_build_docs

-->

<div class="container" id="notebook-container">
        
    {% raw %}
    
<div class="cell border-box-sizing code_cell rendered">

</div>
    {% endraw %}

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Please fill up the questionnaire at: <a href="https://esami.unipi.it">https://esami.unipi.it</a></p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Jupyter-and-Python">Jupyter and Python<a class="anchor-link" href="#Jupyter-and-Python"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Installing-Anaconda-and-dependencies-to-run-the-notebooks">Installing Anaconda and dependencies to run the notebooks<a class="anchor-link" href="#Installing-Anaconda-and-dependencies-to-run-the-notebooks"> </a></h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<ul>
<li><p>Install Anaconda: <a href="https://www.anaconda.com/products/individual">Anaconda Download Page</a></p>
</li>
<li><p>Refer to the Anaconda documentation for more information <a href="https://docs.anaconda.com/anaconda/user-guide/getting-started/">here</a></p>
</li>
<li><p>Open a terminal window:</p>
<ul>
<li>Windows: From the Start menu, search for and open “Anaconda Prompt”</li>
<li>MacOS/Linux: Click the terminal icon.</li>
</ul>
</li>
<li><p>Once in a terminal,</p>
<ul>
<li>create an environment:
<code>conda create --name env-automatic-control python=3.9</code></li>
<li>activate it:
<code>conda activate env-automatic-control</code></li>
</ul>
</li>
<li><p>Install everything that is needed</p>
<ul>
<li><p>Jupyter notebook:</p>
<p><code>conda install -c conda-forge notebook</code></p>
</li>
<li><p>Standard engineering libraries:</p>
<p><code>python -m pip install matplotlib numpy pandas</code></p>
<p><code>conda install numpy scipy matplotlib</code>    # if not yet installed</p>
<p><code>conda install -c conda-forge control</code></p>
<p><code>conda install -c anaconda sympy</code></p>
</li>
</ul>
</li>
</ul>
<p>You are set up!</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Going-back-to-work-(opening-your-Jupyter-notebooks)">Going back to work (opening your Jupyter notebooks)<a class="anchor-link" href="#Going-back-to-work-(opening-your-Jupyter-notebooks)"> </a></h3><ul>
<li><p>Open a terminal window:</p>
<ul>
<li>Windows: From the Start menu, search for and open “Anaconda Prompt”</li>
<li>MacOS/Linux: Click the terminal icon.</li>
</ul>
</li>
<li><p>Move to yur project folder (e.g. <code>cd /Users/&lt;USERNAME&gt;/MyProject/</code>)<br>
(if you need to find out how to find your folder path in Windows read below: "Note: To find out where is your folder in Windows")</p>
</li>
<li><p>Activate your conda environment:
<code>conda activate env-automatic-control</code></p>
</li>
<li><p>Run:
<code>jupyter notebook</code></p>
</li>
</ul>
<p>A new tab in your browser should open up automatically showing the jupyter home folder (your current folder).
If it does not open, open your favourite brower and type: <code>localhost:8888</code> in the browser address bar.
Sometime jupyter requires a token - this is automatically created when jupyter is started. Look back to your terminal window right after the command <code>jupyter notebook</code> there should be a line similar to:</p>

<pre><code>To access the notebook, open this file in a browser:
    file:///Users/&lt;YOUR_USERNAME&gt;/Library/Jupyter/runtime/nbserver-73848-open.html
Or copy and paste one of these URLs:
    http://localhost:8888/?token=66781622f3ed474ccf1f0f61e5708b035acfcf4e41cc7c8a
 or http://127.0.0.1:8888/?token=66781622f3ed474ccf1f0f61e5708b035acfcf4e41cc7c8a

</code></pre>
<p>Copy and paste one of the last two addresses in your browser to start your jupyter session.</p>
<p>You are ready to start coding!</p>
<hr>
<p><strong>Note: To find out where is your folder in Windows:</strong></p>
<ul>
<li>Open Windows Explorer and go inside the folder you need</li>
<li>Right click on the address path and right-click</li>
<li>Select "copy address as text" (see picture below)</li>
<li>Go back to your Anaconda prompt and paste it (remember to type <code>cd</code> first!)</li>
</ul>
<table style='margin: 0 auto' rules=none>
    <tr>
    <td> <img src="img/find-windows-path.png" alt="find-windows-path" style="width: 600px;"/> </td>        
    </tr>
</table><hr>
<h4 id="References">References<a class="anchor-link" href="#References"> </a></h4><ul>
<li><a href="https://jupyter.org/install">Installing Jupyter Software</a></li>
<li><a href="https://python-control.readthedocs.io/en/0.9.0/intro.html#installation">Python Control Library</a></li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="The-Control-Problem">The Control Problem<a class="anchor-link" href="#The-Control-Problem"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<ul>
<li>Systems and control systems</li>
<li><p>Three problems:</p>
<ul>
<li>system identification problem</li>
<li>simulation problem</li>
<li>control Problem</li>
</ul>
</li>
<li><p>Why do we need feedback control</p>
</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="LTI-systems">LTI systems<a class="anchor-link" href="#LTI-systems"> </a></h2><ul>
<li>Homogeneity</li>
<li>Superposition (Additivity)</li>
<li><p>Time Invariance</p>
</li>
<li><p>Impulse Response</p>
<blockquote><p>LTI systems can be characterised by their response to an impulse function (the output of the system when presented with a brief input signal)</p>
</blockquote>
</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Transfer-Functions">Transfer Functions<a class="anchor-link" href="#Transfer-Functions"> </a></h2><ul>
<li>Laplace domain representation of a system<blockquote><p>Definition:Transfer function is the Laplace transform of the impulse response of a linear, time-invariant system with a single input and single output when you set the initial conditions to zero.</p>
</blockquote>
</li>
<li>State space vs Transfer functions</li>
<li>Laplace Transform</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The Laplace transform is important because it is a tool for solving differential equations: <em>it transforms linear differential equations into algebraic equations, and convolution into multiplication!</em></p>
<ul>
<li>Derivatives and integrals become algebric operations</li>
</ul>
<p>From a system perspective, the Transfer function expresses the relation between the Laplace Transform of the input and that of the output:</p>
<p>{% raw %}
$$ Y(s)=\mathbf{c}^T(s\mathbf{I}-\mathbf{A})^{-1} \mathbf{b} U(s) $$
{% endraw %}</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<ul>
<li><p>Properties of the Laplace Transform (relationships between time and frequency)</p>
<ul>
<li>$\frac{df}{dt}(t) \rightarrow sF(s)$</li>
<li>$af(t)$ + $bg(t) \rightarrow aF(s)+bG(s)$</li>
</ul>
</li>
<li><p>Laplace transforms of known functions:</p>
<ul>
<li>$\delta(t) \rightarrow 1$</li>
<li>$1(t) \rightarrow \frac{1}{s}$</li>
<li>$e^{-at} \rightarrow \frac{1}{s+a}$  </li>
<li>...</li>
</ul>
</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Stability-and-other-properties">Stability and other properties<a class="anchor-link" href="#Stability-and-other-properties"> </a></h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<ul>
<li>System $G(s)$ is asymptotically stable if all its poles have $Re&lt;0$</li>
<li>System $G(s)$ is stable if all its poles have G(s) $Re \le 0$ and if those with $Re=0$ have multiplicity one.</li>
<li>System $G(s)$ is unstable if it has at least one pole with $Re&gt;0$ or with $Re=0$ and multiplicity $\ge 2$.</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<ul>
<li>BIBO stability: <ul>
<li>A system is BIBO stable (Bounded Input, Bounded Output) if for each limited input, there is a limited output</li>
<li>For linear systems: BIBO stability if and only if poles of the transfer functions have $Re&lt;0$</li>
</ul>
</li>
</ul>
<ul>
<li>Stability of a system in a state space representation</li>
<li>Controllability (Reachability)</li>
<li>Observability</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Block-diagrams">Block diagrams<a class="anchor-link" href="#Block-diagrams"> </a></h2><ul>
<li>Standard representation of interconnected systems and subsystems using Transfer Functions</li>
<li>Block diagram algebra (serie, parallel, feedback) and equivalent block diagrams</li>
<li>Zero-poles cancellations</li>
<li>Impact on stability and other properties</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="System-Response">System Response<a class="anchor-link" href="#System-Response"> </a></h2><ul>
<li>Dominant pole approximation</li>
<li><p>First-order and second-order systems</p>
<ul>
<li>First-order systems: step response and performance</li>
<li>time constant ($\tau$) - Characterises completely the response of a first order system</li>
<li><p>settling time: $t_s = -\tau ln(0.05)$ (time to get to 95% of steady state)</p>
</li>
<li><p>Second order systems: step response and performance</p>
</li>
<li>More parameters to define performance: max overshoot, time of max overshoot, settling time, oscillation period</li>
</ul>
</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Frequency-response">Frequency response<a class="anchor-link" href="#Frequency-response"> </a></h2><ul>
<li>Assuming that the system is asymptotically stable,</li>
<li>If we input a sinusoid $Asin(\omega t)$</li>
<li>The output of the system converges $y(t)=A|G(j\omega)|sin(\omega t + \angle G(j\omega) ) $</li>
<li>$G(j\omega)$ is the frequency response</li>
<li>If we know magnitude and phase of $G(j\omega)$ (for varying $\omega$) then we know how the system behaves for all sinusoidal inputs with different driving frequencies.</li>
</ul>
<h2 id="Bode-plots">Bode plots<a class="anchor-link" href="#Bode-plots"> </a></h2><ul>
<li><p>Frequency Response and Bode Plots</p>
<ul>
<li>analysing the gain and the phase shift across the full frequency spectrum</li>
<li>gain diagram and phase diagram</li>
</ul>
</li>
<li><p>Leverages the properties of transfer functions and of logarithms:</p>
<ul>
<li>The transfer function of linear systems are polynomial fractions in $s$</li>
<li>It is always possible to factor polynomials in terms of their roots (zeros and poles)</li>
<li>Each polynomial is the product of first-order or second-order (potentially with multiplicity $&gt;$ 1)</li>
<li>To build the frequency response of the system is useful to have simple rules to represent each term</li>
<li>The logarithm of a product is equal to a sum of logarithms<ul>
<li>remember to convert gain to dB: $|G(j\omega)|_{dB}=20log_{10}|G(j\omega)|$</li>
</ul>
</li>
</ul>
</li>
<li><p>Sketching Bode Plots</p>
<ul>
<li>Given a transfer function $G(s)$ we can obtain the (steady state) frequency response setting $s=j\omega \rightarrow G(j\omega)$</li>
<li>$G(j\omega) = \text{real} + \text{imag}j $</li>
<li>Gain: $\sqrt{\text{real}^2 + \text{img}^2} = |G(j\omega)|$</li>
<li>Phase: $atan2(\text{img}, \text{real}) = arg(G(j\omega)) = \angle G(j\omega)$</li>
<li>Our building blocks:<ul>
<li>constant gain</li>
<li>integrator</li>
<li>simple pole</li>
<li>complex poles</li>
<li>specular behaviour for the zeros (properties of the logarithms)</li>
<li>Transform the trasnfer function to the Bode form before drawing the Bode plots!</li>
</ul>
</li>
</ul>
</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Final-value-theorem-and-steady-state-error">Final value theorem and steady state error<a class="anchor-link" href="#Final-value-theorem-and-steady-state-error"> </a></h2><ul>
<li>Meaning of final value</li>
<li>Theorem: for an asymptotically stable LTI system: $ \lim\limits_{t \rightarrow \infty} x(t) = \lim\limits_{s \rightarrow 0} sX(s)$</li>
<li>System type: number of poles at the origin </li>
<li>Analysis of the final value for different system types and different inputs</li>
<li>For a feedback system: the final value of the error is a much better indicator of the performance of our controller</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Diving-deeper-into-the-feedback-loop">Diving deeper into the feedback loop<a class="anchor-link" href="#Diving-deeper-into-the-feedback-loop"> </a></h2><ul>
<li>Included load disturbances and measurement noise in the feedback loop</li>
<li>Sensitivity function (feedback and disturbances / low frequency specifications)</li>
<li>Complementary sensitivity function (feedback and measurements / high frequency specifications)</li>
<li>Design requirements on the loop gain function $|R(s)G(s)|$</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Routh-Hurwitz-Criterion">Routh-Hurwitz Criterion<a class="anchor-link" href="#Routh-Hurwitz-Criterion"> </a></h2><ul>
<li>Necessary and sufficient condition to analyse the stability of the systems without solving for the roots explicitely</li>
<li>Usage can be extended to beyond stability<ul>
<li>Gain margins</li>
<li>Deal with requirement on the speed of the response (time to half)</li>
</ul>
</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Coming-up-next">Coming up next<a class="anchor-link" href="#Coming-up-next"> </a></h2><ul>
<li>Polar plots and the Nyquist plot</li>
<li>Stability margins</li>
<li>Root locus</li>
<li>PID controllers</li>
<li>Lead-lag/lad-lead compensators</li>
</ul>

</div>
</div>
</div>
</div>
 

